<!doctype html><html lang=zh><meta charset=utf-8><meta name=generator content="Hugo 0.73.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=color-scheme content="light dark"><meta name=supported-color-schemes content="light dark"><title>更新 Ubuntu 到最新的 LTS 版本&nbsp;&ndash;&nbsp;页面仔的笔记</title><link rel=stylesheet href=/css/core.min.2fd9b0abacabbeeb181a57c649824434ddbf21c0b29c904ebed1782a18edeaac14143be7f8491ee85718cb1562078a4a.css integrity=sha384-L9mwq6yrvusYGlfGSYJENN2/IcCynJBOvtF4Khjt6qwUFDvn+Eke6FcYyxViB4pK><meta name=twitter:card content="summary"><meta name=twitter:title content="更新 Ubuntu 到最新的 LTS 版本"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#00a300"><meta name=theme-color content="#ffffff"><body><section id=header><div class="header wrap"><span class="header left-side"><a class="site home" href=/><img class="site logo" src=/apple-touch-icon.png alt><span class="site name">页面仔的笔记</span></a></span>
<span class="header right-side"><a class="nav item" href=/themes/>Themes</a>
<a class="nav item" href=/dockerhub/><span class="iconfont icon-docker"></span>&nbsp;Docker</a>
<a class="nav item" href=https://github.com/cntrump target=_blank><span class="iconfont icon-github"></span>&nbsp;Github</a></span></div><div class="site slogan"><span class=title>~ Talk is cheap, show me code ~</span></div></section><section id=content><div class=article-container><section class="article header"><h1 class="article title">更新 Ubuntu 到最新的 LTS 版本</h1><p class="article date">Apr 26, 2020<span class=reading-time> • 预计阅读时间 2 分钟</span></p></section><article class="article markdown-body"><p>Ubuntu 20.04 已经发布几天了，我购买的阿里云官方镜像还是只有 18.04 版本。</p><p>首先需要更新所有软件包到最新到版本：</p><p><code>sudo apt-get update -y && sudo apt-get upgrade -y</code></p><p>然后开始升级：</p><p><code>sudo do-release-upgrade -d</code></p><pre><code class=language-log data-lang=log>Checking for a new Ubuntu release
Get:1 Upgrade tool signature [1,554 B]                                         
Get:2 Upgrade tool [1,344 kB]                                                  
Fetched 1,346 kB in 6s (157 kB/s)                                              
authenticate 'focal.tar.gz' against 'focal.tar.gz.gpg' 
extracting 'focal.tar.gz'

Reading cache

Checking package manager

Continue running under SSH? 

This session appears to be running under ssh. It is not recommended 
to perform a upgrade over ssh currently because in case of failure it 
is harder to recover. 

If you continue, an additional ssh daemon will be started at port 
'1022'. 
Do you want to continue? 

Continue [yN]
</code></pre><p>输入 <code>y</code></p><pre><code class=language-log data-lang=log>Starting additional sshd 

To make recovery in case of failure easier, an additional sshd will 
be started on port '1022'. If anything goes wrong with the running 
ssh you can still connect to the additional one. 
If you run a firewall, you may need to temporarily open this port. As 
this is potentially dangerous it's not done automatically. You can 
open the port with e.g.: 
'iptables -I INPUT -p tcp --dport 1022 -j ACCEPT' 

To continue please press [ENTER]
</code></pre><p>按回车继续升级：</p><pre><code class=language-log data-lang=log>Reading package lists... Done
Building dependency tree        
Reading state information... Done
Hit http://cn.archive.ubuntu.com/ubuntu bionic InRelease                       
Hit http://cn.archive.ubuntu.com/ubuntu bionic-updates InRelease               
Hit http://cn.archive.ubuntu.com/ubuntu bionic-backports InRelease             
Hit http://cn.archive.ubuntu.com/ubuntu bionic-security InRelease              
Fetched 0 B in 0s (0 B/s)                                                      
Reading package lists... Done    
Building dependency tree          
Reading state information... Done

Updating repository information
Get:1 http://cn.archive.ubuntu.com/ubuntu focal InRelease [265 kB]             
Get:2 http://cn.archive.ubuntu.com/ubuntu focal-updates InRelease [89.1 kB]    
Get:3 http://cn.archive.ubuntu.com/ubuntu focal-backports InRelease [89.2 kB]  
Get:4 http://cn.archive.ubuntu.com/ubuntu focal-security InRelease [97.9 kB]   
Get:5 http://cn.archive.ubuntu.com/ubuntu focal/main amd64 Packages [970 kB]   
Get:6 http://cn.archive.ubuntu.com/ubuntu focal/main i386 Packages [718 kB]    
Get:7 http://cn.archive.ubuntu.com/ubuntu focal/main Translation-en [506 kB]   
Get:8 http://cn.archive.ubuntu.com/ubuntu focal/main amd64 c-n-f Metadata [29.5 kB]
Get:9 http://cn.archive.ubuntu.com/ubuntu focal/restricted amd64 Packages [22.0 kB]
Get:10 http://cn.archive.ubuntu.com/ubuntu focal/restricted i386 Packages [8,112 B]
Get:11 http://cn.archive.ubuntu.com/ubuntu focal/restricted Translation-en [6,212 B]
Get:12 http://cn.archive.ubuntu.com/ubuntu focal/restricted amd64 c-n-f Metadata [392 B]
Get:13 http://cn.archive.ubuntu.com/ubuntu focal/universe amd64 Packages [8,628 kB]
Get:14 http://cn.archive.ubuntu.com/ubuntu focal/universe i386 Packages [4,642 kB]
Get:15 http://cn.archive.ubuntu.com/ubuntu focal/universe Translation-en [5,124 kB]
Get:16 http://cn.archive.ubuntu.com/ubuntu focal/universe amd64 c-n-f Metadata [265 kB]
Get:17 http://cn.archive.ubuntu.com/ubuntu focal/universe amd64 c-n-f Metadata [265 kB]
Get:18 http://cn.archive.ubuntu.com/ubuntu focal/multiverse amd64 Packages [144 kB]
Get:19 http://cn.archive.ubuntu.com/ubuntu focal/multiverse i386 Packages [74.7 kB]
Get:20 http://cn.archive.ubuntu.com/ubuntu focal/multiverse Translation-en [104 kB]
Get:21 http://cn.archive.ubuntu.com/ubuntu focal/multiverse amd64 c-n-f Metadata [9,136 B]
Get:22 http://cn.archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages [2,000 B]
Get:23 http://cn.archive.ubuntu.com/ubuntu focal-updates/main i386 Packages [648 B]
Get:24 http://cn.archive.ubuntu.com/ubuntu focal-updates/main Translation-en [1,152 B]
Get:25 http://cn.archive.ubuntu.com/ubuntu focal-updates/main amd64 c-n-f Metadata [160 B]
Get:26 http://cn.archive.ubuntu.com/ubuntu focal-updates/restricted amd64 c-n-f Metadata [116 B]
Get:27 http://cn.archive.ubuntu.com/ubuntu focal-updates/universe amd64 c-n-f Metadata [112 B]
Get:28 http://cn.archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 c-n-f Metadata [116 B]
Get:29 http://cn.archive.ubuntu.com/ubuntu focal-backports/main amd64 c-n-f Metadata [112 B]
Get:30 http://cn.archive.ubuntu.com/ubuntu focal-backports/restricted amd64 c-n-f Metadata [116 B]
Get:31 http://cn.archive.ubuntu.com/ubuntu focal-backports/universe amd64 c-n-f Metadata [116 B]
Get:32 http://cn.archive.ubuntu.com/ubuntu focal-backports/multiverse amd64 c-n-f Metadata [116 B]
Get:33 http://cn.archive.ubuntu.com/ubuntu focal-security/main amd64 c-n-f Metadata [108 B]
Get:34 http://cn.archive.ubuntu.com/ubuntu focal-security/restricted amd64 c-n-f Metadata [116 B]
Get:35 http://cn.archive.ubuntu.com/ubuntu focal-security/universe amd64 c-n-f Metadata [112 B]
Get:36 http://cn.archive.ubuntu.com/ubuntu focal-security/multiverse amd64 c-n-f Metadata [116 B]
Fetched 21.8 MB in 6s (65.2 kB/s)                                              

Checking package manager
Reading package lists... Done    
Building dependency tree          
Reading state information... Done

Calculating the changes

Calculating the changes
No candidate ver:  linux-image-4.15.0-55-generic
No candidate ver:  linux-modules-4.15.0-55-generic
No candidate ver:  linux-modules-extra-4.15.0-55-generic

Do you want to start the upgrade? 


7 installed packages are no longer supported by Canonical. You can 
still get support from the community. 

7 packages are going to be removed. 103 new packages are going to be 
installed. 495 packages are going to be upgraded. 

You have to download a total of 475 M. This download will take about 
36 minutes with your connection. 

Installing the upgrade can take several hours. Once the download has 
finished, the process cannot be canceled. 

 Continue [yN]  Details [d]
</code></pre><p>提示某些软件包会被卸载，继续安装 <code>y</code>，接下来就是漫长的安装过程。</p><pre><code class=language-log data-lang=log>
System upgrade is complete.

Restart required 

To finish the upgrade, a restart is required. 
If you select 'y' the system will be restarted. 

Continue [yN]
</code></pre><p>重启系统，完成升级：<code>y</code></p><p>查看一下升级后的系统版本：</p><p><code>lsb_release -a</code></p><pre><code class=language-log data-lang=log>LSB Version:	core-11.1.0ubuntu2-noarch:security-11.1.0ubuntu2-noarch
Distributor ID:	Ubuntu
Description:	Ubuntu 20.04 LTS
Release:	20.04
Codename:	focal
</code></pre></article><section class="article labels"><a class=tag href=/tags/ubuntu/>Ubuntu</a></section><section class="article license">版权声明：如果转发请带上本文链接和注明来源。</section><section class="article author"><img class=avatar src=/img/avatar.jpg alt><p class=name>lvv.me</p><div class=bio><strong>iOS/macOS</strong> Developer</div><div class=details><a class=item href=https://github.com/cntrump target=_blank><span class="iconfont icon-github"></span>&nbsp;cntrump</a><a class=item href=https://hub.docker.com/u/cntrump target=_blank><span class="iconfont icon-docker"></span>&nbsp;cntrump</a></div></section></div><div class="article bottom"><section class="article navigation"><p><a class=link href=/posts/2020/04/27_letsencrypt_nginx_docker/><span class="iconfont icon-article"></span>从 LetsEncrypt 获取免费的泛域名 SSL 证书</a></p><p><a class=link href=/posts/2020/04/16_nginx_redir_http/><span class="iconfont icon-article"></span>Nginx 重定向 HTTP 请求到 HTTPS 端口</a></p></section></div></section><section id=footer><div class=footer-wrap><p class=copyright>&copy;2020 lvvme.</p><p class=powerby><span>Powered by </span><a href=https://gohugo.io target=_blank>Hugo</a><span> and the </span><a href=https://themes.gohugo.io/hugo-notepadium/ target=_blank>Notepadium</a></p><p style=font-size:12px><a href=http://www.beian.miit.gov.cn/ target=_blank>粤ICP备20056596号-1</a></p></div></section><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-155172933-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>